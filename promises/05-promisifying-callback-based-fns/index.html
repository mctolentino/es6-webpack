<html>
<body>
    <script>
        function handleError(err) {
            console.log('It failed.')
            console.log(err);
        }

        function getCurrentPosition() {
            return new Promise((resolve, reject) => {
                navigator.geolocation.getCurrentPosition(resolve, reject);
            });
        }

        async function go() {
            console.log('Starting...');
            try {
                const pos = await getCurrentPosition();
                console.log(pos);
            } catch (err) {
                handleError(err);
            }
            console.log('Finished!');
        }

        go();
    </script>
</body>
</html>